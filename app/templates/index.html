<!-- app/templates/index.html -->
{% extends "base.html" %}

{% block title %}{{ t.page_title }}{% endblock %}

{% block body %}
<header class="hero">
  <h1>{{ t.hero_title }}</h1>
  <p>{{ t.hero_description }}</p>
</header>

<section class="card">
  <label class="dropzone" id="dropBox">
    <input id="fileInput" type="file" accept="application/pdf" multiple />
    <div class="dropzone-inner">
      <div class="drop-icon">⬆️</div>
      <strong>{{ t.drop_instruction }}</strong>
      <p>{{ t.drop_detail }}</p>
    </div>
  </label>

  <div id="files" class="file-list empty">
    <p class="empty-state">{{ t.empty_state }}</p>
  </div>

  <div class="form-grid">
    <label>
      {{ t.output_label }}
      <input id="outputName" type="text" value="{{ defaults.output_name }}" placeholder="merged.pdf" />
    </label>
    <label>
      {{ t.api_key_label }}
      <input id="apiKey" type="text" placeholder="{{ t.api_key_placeholder }}" {% if not feature_flags.api_key_required %}disabled{% endif %}/>
    </label>
  </div>

  <!-- 용지/방향/맞춤 옵션이 있다면 여기에 select를 추가 -->
  <div class="form-grid" style="display: none;">
    <label>
      {{ t.paper_size_label }}
      <select id="paperSize">
        <option value="A4" {% if defaults.paper_size == "A4" %}selected{% endif %}>{{ t.paper_size_a4 }}</option>
        <option value="Letter" {% if defaults.paper_size == "Letter" %}selected{% endif %}>{{ t.paper_size_letter }}</option>
      </select>
    </label>
    <label>
      {{ t.orientation_label }}
      <select id="orientation">
        <option value="portrait" {% if defaults.orientation == "portrait" %}selected{% endif %}>{{ t.orientation_portrait }}</option>
        <option value="landscape" {% if defaults.orientation == "landscape" %}selected{% endif %}>{{ t.orientation_landscape }}</option>
      </select>
    </label>
    <label>
      {{ t.scale_mode_label }}
      <select id="fitMode">
        <option value="letterbox" {% if defaults.fit_mode == "letterbox" %}selected{% endif %}>{{ t.scale_mode_letterbox }}</option>
        <option value="crop" {% if defaults.fit_mode == "crop" %}selected{% endif %}>{{ t.scale_mode_crop }}</option>
      </select>
    </label>
  </div>

  <div class="actions">
    <button id="mergeBtn" class="primary">{{ t.merge_button }}</button>
    <button id="clearBtn" type="button" class="ghost" disabled>{{ t.clear_button }}</button>
    <span class="hint">{{ t.range_hint_html | safe }}</span>
  </div>
  <p id="status" class="status" role="status" aria-live="polite"></p>
</section>
{% endblock %}
